<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>GalgoR main function — galgo • galgoR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="GalgoR main function — galgo" />
<meta property="og:description" content="galgo accepts an expression matrix and a survival object to find robust gene expression signatures related to a given outcome" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">galgoR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/galgoR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/galgo_callbacks.html">Galgo Callbacks Mechanism</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/harpomaxx/galgoR-package/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>GalgoR main function</h1>
    <small class="dont-index">Source: <a href='https://github.com/harpomaxx/galgoR-package/blob/master/R/galgo.R'><code>R/galgo.R</code></a></small>
    <div class="hidden name"><code>galgo.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>galgo</code> accepts an expression matrix and a survival object to find robust gene expression signatures related to a given outcome</p>
    </div>

    <pre class="usage"><span class='fu'>galgo</span>(
  <span class='kw'>population</span> <span class='kw'>=</span> <span class='fl'>30</span>,
  <span class='kw'>generations</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>nCV</span> <span class='kw'>=</span> <span class='fl'>5</span>,
  <span class='kw'>usegpu</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>distancetype</span> <span class='kw'>=</span> <span class='st'>"pearson"</span>,
  <span class='kw'>TournamentSize</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>period</span> <span class='kw'>=</span> <span class='fl'>1825</span>,
  <span class='no'>OS</span>,
  <span class='no'>prob_matrix</span>,
  <span class='kw'>res_dir</span> <span class='kw'>=</span> <span class='st'>""</span>,
  <span class='kw'>start_galgo_callback</span> <span class='kw'>=</span> <span class='no'>default_callback</span>,
  <span class='kw'>end_galgo_callback</span> <span class='kw'>=</span> <span class='no'>base_return_pop_callback</span>,
  <span class='kw'>report_callback</span> <span class='kw'>=</span> <span class='no'>base_report_callback</span>,
  <span class='kw'>start_gen_callback</span> <span class='kw'>=</span> <span class='no'>default_callback</span>,
  <span class='kw'>end_gen_callback</span> <span class='kw'>=</span> <span class='no'>default_callback</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>2</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>population</th>
      <td><p>a number indicating the number of solutions in the population of solutions that will be evolved</p></td>
    </tr>
    <tr>
      <th>generations</th>
      <td><p>a number indicating the number of iterations of the galgo algorithm</p></td>
    </tr>
    <tr>
      <th>nCV</th>
      <td><p>number of cross-validation sets</p></td>
    </tr>
    <tr>
      <th>usegpu</th>
      <td><p><code>logical</code> default to <code>FALSE</code>, set to <code>TRUE</code> if you wish to use gpu computing (<code>gpuR</code> package must be properly installed and loaded)</p></td>
    </tr>
    <tr>
      <th>distancetype</th>
      <td><p>character, it can be <code>'pearson'</code> (centered pearson), <code>'uncentered'</code> (uncentered pearson), <code>'spearman'</code> or <code>'euclidean'</code></p></td>
    </tr>
    <tr>
      <th>TournamentSize</th>
      <td><p>a number indicating the size of the tournaments for the selection procedure</p></td>
    </tr>
    <tr>
      <th>period</th>
      <td><p>a number indicating the outcome period to evaluate the RMST</p></td>
    </tr>
    <tr>
      <th>OS</th>
      <td><p>a <code>survival</code> object (see <code> <a href='https://rdrr.io/pkg/survival/man/Surv.html'>Surv</a> </code> function from the <code>survival</code> package)</p></td>
    </tr>
    <tr>
      <th>prob_matrix</th>
      <td><p>a <code>matrix</code> or <code>data.frame</code>. Must be an expression matrix with features in rows and samples in columns</p></td>
    </tr>
    <tr>
      <th>res_dir</th>
      <td><p>a <code>character</code> string indicating where to save the intermediate and final output of the algorithm</p></td>
    </tr>
    <tr>
      <th>start_galgo_callback</th>
      <td><p>optional callback function for the start of the galgo execution</p></td>
    </tr>
    <tr>
      <th>end_galgo_callback</th>
      <td><p>optional callback function for the end of the galgo execution</p></td>
    </tr>
    <tr>
      <th>report_callback</th>
      <td><p>optional callback function</p></td>
    </tr>
    <tr>
      <th>start_gen_callback</th>
      <td><p>optional callback function for the beginning of the run</p></td>
    </tr>
    <tr>
      <th>end_gen_callback</th>
      <td><p>optional callback function for the end of the run</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>select the level of information printed during galgo execution</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>an object of type <code>'galgo.Obj'</code> that corresponds to a list with the elements <code>$Solutions</code> and <code>$ParetoFront</code>. <code>$Solutions</code> is a \(l x (n + 5)\) matrix where \(n\) is the number of features evaluated and \(l\) is the number of solutions obtained.
The submatrix \(l x n\) is a binary matrix where each row represents the chromosome of an evolved solution from the solution population, where each feature can be present (1) or absent (0) in the solution. Column \(n +1\) represent the  \(k\) number of clusters for each solutions. Column \(n+2\) to \(n+5\) shows the SC Fitness and Survival Fitness values, the solution rank, and the crowding distance of the solution in the final pareto front respectively.
For easier interpretation of the <code>'galgo.Obj'</code>, the output can be reshaped using the <code><a href='to_list.html'>to_list</a></code> and <code><a href='to_dataframe.html'>to_dataframe</a></code> functions</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># load example dataset</span>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>breastCancerTRANSBIG</span>)
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>transbig</span>)
<span class='no'>Train</span> <span class='kw'>&lt;-</span> <span class='no'>transbig</span>
<span class='fu'><a href='https://rdrr.io/r/base/rm.html'>rm</a></span>(<span class='no'>transbig</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: object 'transbig' not found</span></div><div class='input'>
<span class='no'>expression</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>Biobase</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/Biobase/man/exprs.html'>exprs</a></span>(<span class='no'>Train</span>)
<span class='no'>clinical</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>Biobase</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/Biobase/man/phenoData.html'>pData</a></span>(<span class='no'>Train</span>)
<span class='no'>OS</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>survival</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/survival/man/Surv.html'>Surv</a></span>(<span class='kw'>time</span> <span class='kw'>=</span> <span class='no'>clinical</span>$<span class='no'>t.rfs</span>, <span class='kw'>event</span> <span class='kw'>=</span> <span class='no'>clinical</span>$<span class='no'>e.rfs</span>)

<span class='co'># We will use a reduced dataset for the example</span>
<span class='no'>expression</span> <span class='kw'>&lt;-</span> <span class='no'>expression</span>[<span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span>(<span class='fl'>1</span>:<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span>(<span class='no'>expression</span>), <span class='fl'>100</span>), ]

<span class='co'># Now we scale the expression matrix</span>
<span class='no'>expression</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/t.html'>t</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/scale.html'>scale</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/t.html'>t</a></span>(<span class='no'>expression</span>)))

<span class='co'># Run galgo</span>
<span class='no'>output</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>galgoR</span><span class='kw ns'>::</span><span class='fu'>galgo</span>(<span class='kw'>generations</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>population</span> <span class='kw'>=</span> <span class='fl'>15</span>, <span class='kw'>prob_matrix</span> <span class='kw'>=</span> <span class='no'>expression</span>, <span class='kw'>OS</span> <span class='kw'>=</span> <span class='no'>OS</span>)</div><div class='output co'>#&gt; <span class='message'>Using CPU for computing pearson distance</span></div><div class='output co'>#&gt; <span class='message'>Generation 1 Non-dominated solutions:</span></div><div class='output co'>#&gt;            k                      rnkIndex    CrowD
#&gt; result.1   3 0.09073725 128.82984        1 1.023008
#&gt; result.3   8 0.02212960 213.55445        1 0.389267
#&gt; result.9   4 0.14558053  24.92632        1      Inf
#&gt; result.11 10 0.02043814 245.97382        1      Inf
#&gt; result.12  4 0.05796947 210.71596        1 0.573795
#&gt; result.13  3 0.08510381 172.61869        1 0.562403</div><div class='output co'>#&gt; <span class='message'>Generation 2 Non-dominated solutions:</span></div><div class='output co'>#&gt;            k                      rnkIndex     CrowD
#&gt; result.9   4 0.14558053  24.92632        1       Inf
#&gt; result.6   8 0.01210128 257.02469        1       Inf
#&gt; result.8   2 0.10883566 172.95062        1 1.2184884
#&gt; result.3   4 0.06274179 204.31701        1 0.4664650
#&gt; result.3   8 0.02212960 213.55445        1 0.3729520
#&gt; result.12  4 0.05796947 210.71596        1 0.2910301
#&gt; result.11 10 0.02043814 245.97382        1 0.2321734</div><div class='output co'>#&gt; <span class='message'>Generation 3 Non-dominated solutions:</span></div><div class='output co'>#&gt;          k                      rnkIndex    CrowD
#&gt; result.9 4 0.14558053  24.92632        1      Inf
#&gt;          4 0.07021006 319.43006        1      Inf
#&gt; result.8 2 0.10883566 172.95062        1 1.395612</div><div class='output co'>#&gt; <span class='message'>Generation 4 Non-dominated solutions:</span></div><div class='output co'>#&gt;          k                      rnkIndex    CrowD
#&gt; result.9 4 0.14558053  24.92632        1      Inf
#&gt;          4 0.07021006 319.43006        1      Inf
#&gt; result.8 2 0.10883566 172.95062        1 1.427828</div><div class='output co'>#&gt; <span class='message'>Generation 5 Non-dominated solutions:</span></div><div class='output co'>#&gt;          k                      rnkIndex     CrowD
#&gt; result.9 4 0.14558053  24.92632        1       Inf
#&gt;          4 0.07021006 319.43006        1       Inf
#&gt;          4 0.13090785 180.21854        1 1.1096426
#&gt;          3 0.09675105 274.67703        1 0.8431102</div><div class='input'><span class='no'>outputDF</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='to_dataframe.html'>to_dataframe</a></span>(<span class='no'>output</span>)
<span class='no'>outputList</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='to_list.html'>to_list</a></span>(<span class='no'>output</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Martin Guerrero, Carlos Catania.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


